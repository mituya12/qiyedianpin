# 脚本目录说明

此目录包含各种初始化脚本和工具脚本，遵循模块化设计原则。

## 目录结构

```
scripts/
├── db/                 # 数据库表结构初始化
│   ├── index.js        # 表结构初始化索引
│   ├── users.js        # 用户表结构
│   ├── roles.js        # 角色表结构
│   └── ...             # 其他表结构
├── data/               # 测试数据初始化
│   ├── index.js        # 测试数据初始化索引
│   ├── users.js        # 用户测试数据
│   ├── roles.js        # 角色测试数据
│   └── ...             # 其他测试数据
├── initDB.js           # 数据库初始化入口
└── initDbData.js       # 测试数据初始化入口
```

## 设计原则

1. **模块化**：每个表的结构和数据都在独立的文件中定义
2. **依赖关系**：按照表的依赖关系顺序进行初始化
3. **可扩展性**：方便添加新表和新数据
4. **错误处理**：统一的错误处理机制

## 使用方法

### 初始化数据库和表结构

```bash
npm run init-db
```

### 初始化测试数据

```bash
npm run init-data
```

## 添加新表的步骤

1. 在 `db/` 目录中创建新表的结构文件（例如 `products.js`）
2. 在 `db/index.js` 中导入并添加到初始化列表
3. 在 `data/` 目录中创建对应的测试数据文件
4. 在 `data/index.js` 中导入并添加到初始化列表

## 注意事项

- 确保按照表的依赖关系顺序进行初始化
- 表结构和测试数据文件应当保持同步
- 测试数据初始化前应当检查表是否已有数据，避免重复插入 