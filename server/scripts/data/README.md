# 测试数据说明

## 数据初始化顺序

执行 `node scripts/data/index.js` 会按以下顺序初始化测试数据:

### 1. 管理员数据 (admins)
- **用户名**: admin
- **密码**: admin123 (MD5加密)
- **角色**: 超级管理员

### 2. 系统配置 (system_config)
- 平台名称
- 评价审核开关
- 回复审核开关
- 企业审核开关
- 微信内容安全检测开关

### 3. 企业数据 (companies)
插入10家知名企业:
- 腾讯科技有限公司
- 阿里巴巴集团
- 字节跳动科技有限公司
- 百度在线网络技术有限公司
- 京东集团
- 美团
- 拼多多
- 网易集团
- 小米科技有限责任公司
- 华为技术有限公司

### 4. 测试用户 (users)
插入5个测试用户:
- test_user_001 (张三)
- test_user_002 (李四)
- test_user_003 (王五)
- test_user_004 (赵六)
- test_user_005 (孙七)

### 5. 评价数据 (reviews)
插入10条评价,涵盖:
- 不同企业
- 不同评分(3-5分)
- 不同在职状态(在职/离职)
- 不同部门
- 是否分公司
- 详细的评价内容、薪资、福利信息

**自动更新**: 插入后会自动更新企业的评分和评价数量

### 6. 回复数据 (replies)
插入15条回复,包括:
- 普通用户回复
- 官方HR回复
- 针对不同评价的互动

**自动更新**: 插入后会自动更新评价的回复数量

## 使用方法

```bash
# 初始化数据库表结构
npm run init-db

# 初始化测试数据
node scripts/data/index.js
```

## 注意事项

1. 所有初始化函数都会检查数据是否已存在,避免重复插入
2. 评价数据会自动计算并更新企业的平均评分和评价数量
3. 回复数据会自动更新对应评价的回复数量
4. 测试用户的openid以"test_"开头,便于识别和清理
